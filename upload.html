<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0">
    <title>Upload</title>
    <link
        href="https://cdn.jsdelivr.net/npm/tailwindcss@2.0.3/dist/tailwind.min.css"
        rel="stylesheet">
    <script
        src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        function uploadFile() {
            const fileInput = document.getElementById('file');
            //const statusText = document.getElementById('status-text');

            const formData = new FormData();
            formData.append('file', fileInput.files[0]);
            formData.append('access_token',"eyJhbGciOiJIUzI1NiIsImtpZCI6IlozZW54V1k1d2ZSa0FvV0giLCJ0eXAiOiJKV1QifQ.eyJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNjkxMzQyMjU2LCJpYXQiOjE2OTA3Mzc0NTYsImlzcyI6Imh0dHBzOi8vaHR0cHM6Ly9wZ2htYXRhZW1pbWp5YnZvcm1wbC5zdXBhYmFzZS5jby9hdXRoL3YxIiwic3ViIjoiYzY2MGJkNTgtMGZjMy00Mzk2LTg3NjktOWI5ODY5ODM0YTgyIiwiZW1haWwiOiJtYXh4aW13b3JrZnJvbXRleGFnb25AZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJhenVyZSIsInByb3ZpZGVycyI6WyJnb29nbGUiLCJhenVyZSJdfSwidXNlcl9tZXRhZGF0YSI6eyJhdmF0YXJfdXJsIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0YzVqcUkxZE5LVEh4WWRBZGJrYk9MOGticXcyLUVWczJVZTB3WFdMdUd2PXM5Ni1jIiwiZW1haWwiOiJtYXh4aW13b3JrZnJvbXRleGFnb25AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZ1bGxfbmFtZSI6Ik1heHhpbSIsImlzcyI6Imh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbSIsIm5hbWUiOiJNYXh4aW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0YzVqcUkxZE5LVEh4WWRBZGJrYk9MOGticXcyLUVWczJVZTB3WFdMdUd2PXM5Ni1jIiwicHJvdmlkZXJfaWQiOiIxMTY3NjQwODY1MDU1OTAwNjMzNDAiLCJzdWIiOiIxMTY3NjQwODY1MDU1OTAwNjMzNDAifSwicm9sZSI6ImF1dGhlbnRpY2F0ZWQiLCJhYWwiOiJhYWwxIiwiYW1yIjpbeyJtZXRob2QiOiJvYXV0aCIsInRpbWVzdGFtcCI6MTY5MDczNzQ1Nn1dLCJzZXNzaW9uX2lkIjoiZmExZmY1NjktOTE5Zi00OTUxLWFjNDAtNWEyYjU5M2UzOGRlIn0.9Ju4pooNs-xE_NdIc_FMgeBOdmI5RSLJ8hlmNqvoG9M")

           // statusText.textContent = 'Training Started';

            axios.post('http://localhost:3000/CreateChat', formData, {
                headers: {
                    'Content-Type': 'multipart/form-data'
                }
            }).then(response => {
                //statusText.textContent = 'Training Finished';
            }).catch(error => {
                alert("Training Failed"+error);
                console.log("failed to upload file: ", error);
            });
        }

    </script>
    <style>
        body {
            background: radial-gradient(circle, rgba(10,10,20,1) 0%, rgba(0,0,0,1) 100%);
        }
        input[type="file"] {
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
        }
    </style>
</head>

<body >
    
    <h1 class="text-4xl mt-4 text-white text-center">Maxim Training Area</h1>
    <hr class="w-full my-4 border-gray-300 opacity-20">
    <div class="flex flex-col items-center justify-center min-h-screen text-white">
        <div class="flex flex-col items-center justify-center h-4/5 w-4/5">
            <input type="file" id="file" accept=".pdf,.txt,.csv" class="w-auto mb-24">
            <button onclick="uploadFile()" class="px-6 py-2 bg-gray-500 hover:bg-gray-600 transition duration-300 mb-4">Upload</button>
            <p>Upload a .pdf file to train the GPT</p>
            <!-- <p id="status" class="mt-24">Training Status: <span id="status-text"></span></p> -->
        </div>
    </div>
    
</body>

</html>